// oracle cloud da install centos 7 ikinci secenek
// sonra bi desktop environment lazim sec birini yapistir/
// nomachine i yukle sonra ordan baglanabilirsin amma luzumu halinde
// nomachine in yalnizca rpm ini yuklediginde otomatik portu aciyor aslinda ama asagidaki gibi de yapilabilir yok denedim tekten yukleyince acmiyobbbb

// ondan sonra chrome dur vnc dir hepsi assagida var hadi kolah degil

# Cinnamon
yum groupinstall -y "Cinnamon"

# nomachine
wget http://129.80.150.106/ProgramRPMs/nomachine_7.9.2_1_x86_64.rpm
yum install -y ./nomachine_7.9.2_1_x86_64.rpm
firewall-cmd --add-port=4000/tcp --permanent
firewall-cmd --add-port=4011-4999/tcp --permanent
firewall-cmd --reload
sed -i 's/#WaylandEnable/WaylandEnable/' /etc/gdm/custom.conf
systemctl reboot

# google chrome
wget http://129.80.150.106/ProgramRPMs/google-chrome-stable_current_x86_64.rpm
yum install -y ./google-chrome-stable_current_x86_64.rpm

# vnc
wget http://129.80.150.106/ProgramRPMs/VNC-Server-6.9.1-Linux-x64.rpm
wget http://129.80.150.106/ProgramRPMs/VNC-Viewer-6.22.315-Linux-x64.rpm
yum install -y xterm
yum install -y x11vnc.x86_64
yum install -y xorg-x11-server-source.noarch
yum install -y VNC-Server-6.9.1-Linux-x64.rpm
yum install -y VNC-Viewer-6.22.315-Linux-x64.rpm
firewall-cmd --zone=public --permanent --add-service=vncserver-x11-serviced
firewall-cmd --zone=public --permanent --add-service=vncserver-virtuald
systemctl enable vncserver-virtuald.service --now
systemctl enable vncserver-x11-serviced.service --now

# wmare
wget http://129.80.150.106/ProgramRPMs/VMware-Workstation-Full-16.2.3-19376536.x86_64.bundle
dnf install kernel-headers kernel kernel-devel gcc make -y
sudo dnf install -y kernel-devel-$(uname -r) kernel-headers -y
dnf groupinstall "Development tools" -y
dnf update -y
cp /usr/src/kernels/`uname -r`/include/generated/uapi/linux/version.h /lib/modules/`uname -r`/build/include/linux/
./VMware-Workstation-Full-16.2.3-19376536.x86_64.bundle
vmware-modconfig --console --install-all
sudo dnf install -y openssl
sudo mkdir -p /misc/sign-vmware-modules
sudo chmod 777 /misc/sign-vmware-modules
cd /misc/sign-vmware-modules
openssl req -new -x509 -newkey rsa:2048 -keyout MOK.priv -outform DER -out MOK.der -nodes -days 36500 -subj "/CN=MSI/"
chmod 600 MOK.priv
vmware-modconfig --console --install-all
sudo mokutil --import MOK.der

# crontab -e
* * * * * apt update -y >> /home/tm/Desktop/uptadeLog.txt
* * * * * apt upgrade -y >> /home/tm/Desktop/upgradeLog.txt
0 0 * * * reboot
0 1 * * * sudo vmware-modconfig --console --install-all

# nomachine
wget http://129.80.150.106/ProgramRPMs/nomachine_7.9.2_1_x86_64.rpm
yum install -y ./nomachine_7.9.2_1_x86_64.rpm
firewall-cmd --add-port=4000/tcp --permanent
firewall-cmd --add-port=4011-4999/tcp --permanent
firewall-cmd --reload
sed -i 's/#WaylandEnable/WaylandEnable/' /etc/gdm/custom.conf
systemctl reboot

# atom
wget http://129.80.150.106/ProgramRPMs/atom.x86_64.rpm
yum localinstall -y atom.x86_64.rpm

# snapd
sudo dnf install snapd -y
sudo snap install hello-world
sudo ln -s /var/lib/snapd/snap /snap
sudo snap install intellij-idea-community --classic --edge
sudo snap install vlc
sudo snap install zoom-client
sudo snap install code --classic
sudo snap install snap-store
sudo snap install sublime-text --classic
sudo snap install code --classic

# jetbranin toolbox
wget http://129.80.150.106/ProgramRPMs/jetbrains-toolbox
chmod 777 jetbrains-toolbox
./jetbrains-toolbox

# vlc
yum install -y epel-release
yum install -y vlc

# snapd
echo snapd yuklensin
sudo dnf install snapd -y
sudo snap install hello-world
sudo ln -s /var/lib/snapd/snap /snap
sudo snap install intellij-idea-community --classic --edge #intellij i idea toolbox la yuklemek lazim
sudo snap install vlc
sudo snap install zoom-client
sudo snap install code --classic
sudo snap install snap-store
sudo snap install sublime-text --classic
sudo snap install code --classic

# VirtualBox
wget http://download.virtualbox.org/virtualbox/rpm/fedora/virtualbox.repo -P /etc/yum.repos.d/
dnf install @development-tools -y
dnf install -y kernel-devel kernel-headers dkms qt5-qtx11extras  elfutils-libelf-devel zlib-devel
dnf install -y VirtualBox-6.1
usermod -a -G vboxusers tm

#GUAKE
yum install -y guake
yum install qbittorrent -y
yum install -y filezilla.x86_64


# VMWARE  calismiyo ama olsun
dnf install kernel-headers kernel kernel-devel gcc make -y
sudo dnf install -y kernel-devel-$(uname -r) kernel-headers -y
dnf groupinstall "Development tools" -y
./VMware-Workstation-Full-16.2.1-18811642.x86_64.bundle
cp /usr/src/kernels/`uname -r`/include/generated/uapi/linux/version.h /lib/modules/`uname -r`/build/include/linux/

# cron
dnf install cronie -y
systemctl enable crond.service --now

echo "0 * * * * yum update -y >> /home/tm//Desktop/UpdateTracker.txt" >> /var/spool/cron/root
echo "0 0 * * * reboot" >> /var/spool/cron/root

# http mevzuu
yum install httpd -y
systemctl enable httpd --now
firewall-cmd --permanent --add-service=http
firewall-cmd --permanent --add-service=https
firewall-cmd --reload
firewall-cmd --list-all


# mariadb
yum install -y mariadb mariadb-server
systemctl enable mariadb.service --now
firewall-cmd --permanent --add-service=mysql
firewall-cmd --reload

###ayarlari
mysql_secure_installation
mysql -u root -p
show databases;
create database dbname;
use dbname;
describe jevodb;
create table jevodb(col1(varchar(40), col1(varchar(40));
select * from dbname;
insert into dbname(col1, col2) values("col1row1value", "col2row1value");
create user tm@'%' identified by '.';
drop user
grant select,insert,update,delete on dbname.* to tm@'%';
flush privileges;
show grants for tm@'%';

# phpMyAdmin
yum install -y epel-release;
yum install -y php php-mysql phpMyAdmin

mysql_secure_installation
##vim /etc/httpd/conf.d/phpMyAdmin.conf #burda <requiredlari all granted la degistirmek lazim yani tam soyle

<IfModule mod_authz_core.c>
     # Apache 2.4
     <RequireAny>
       Require all granted
       Require ip ::1
     </RequireAny>
   </IfModule>
   <IfModule !mod_authz_core.c>
     # Apache 2.2
     Order Deny,Allow
     Deny from All
     Allow from All
     Allow from ::1
   </IfModule>

# All Desktop Environments
yum groupinstall -y "KDE Plasma Workspaces" "Xfce Desktop" "LXDE Desktop" "LXQt Desktop" "Cinnamon Desktop" "MATE Desktop" "Sugar Desktop Environment" "Deepin Desktop"


# tekten lamp
yum install httpd -y
systemctl enable httpd --now
firewall-cmd --permanent --add-service=http
firewall-cmd --permanent --add-service=https
firewall-cmd --reload
firewall-cmd --list-all
yum install -y mariadb mariadb-server
systemctl enable mariadb.service --now
firewall-cmd --permanent --add-service=mysql
firewall-cmd --reload
yum install -y epel-release;
yum install -y php php-mysql phpMyAdmin
mysql_secure_installation



// shellinabox ... wettynin amk
yum install -y epel-release ; yum install -y yum-utils openssl shellinabox -y
systemctl enable shellinaboxd --now




//  wps office 
wget https://wdl1.pcfg.cache.wpscdn.com/wpsdl/wpsoffice/download/linux/10976/wps-office-11.1.0.10976.XA-1.x86_64.rpm
sudo dnf install wps-office-11.1.0.10976.XA-1.x86_64.rpm
